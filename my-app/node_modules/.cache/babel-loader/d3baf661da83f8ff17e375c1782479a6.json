{"ast":null,"code":"import * as d3 from 'd3';\n\nconst createLineChart = data => {\n  var node = document.createElement('div');\n  var diameter = 960,\n      format = d3.format(\",d\"),\n      color = d3.scale.category20c();\n  var bubble = d3.layout.pack().sort(null).size([diameter, diameter]).padding(1.5);\n  var svg = d3.select(node).append(\"svg\").attr(\"width\", diameter).attr(\"height\", diameter).attr(\"class\", \"bubble\");\n  d3.json(\"flare.json\", function (error, root) {\n    if (error) throw error;\n    var bubbles = svg.selectAll(\".node\").data(bubble.nodes(classes(root)).filter(function (d) {\n      return !d.children;\n    })).enter().append(\"g\").attr(\"class\", \"node\").attr(\"transform\", function (d) {\n      return \"translate(\" + d.x + \",\" + d.y + \")\";\n    });\n  });\n};\n\nfunction classes(root) {\n  var classes = [];\n\n  function recurse(name, node) {\n    if (node.children) node.children.forEach(function (child) {\n      recurse(node.name, child);\n    });else classes.push({\n      packageName: name,\n      className: node.name,\n      value: node.size\n    });\n  }\n\n  recurse(null, root);\n  return {\n    children: classes\n  };\n}\n\nexport default createLineChart;","map":{"version":3,"sources":["C:\\Users\\deirdre.corr\\Documents\\Personal\\Practice\\react\\my-app\\src\\d3\\visionEthnicity.js"],"names":["d3","createLineChart","data","node","document","createElement","diameter","format","color","scale","category20c","bubble","layout","pack","sort","size","padding","svg","select","append","attr","json","error","root","bubbles","selectAll","nodes","classes","filter","d","children","enter","x","y","recurse","name","forEach","child","push","packageName","className","value"],"mappings":"AAAA,OAAO,KAAKA,EAAZ,MAAoB,IAApB;;AAEA,MAAMC,eAAe,GAAGC,IAAI,IAAI;AAE5B,MAAIC,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAX;AAEA,MAAIC,QAAQ,GAAG,GAAf;AAAA,MACIC,MAAM,GAAGP,EAAE,CAACO,MAAH,CAAU,IAAV,CADb;AAAA,MAEIC,KAAK,GAAGR,EAAE,CAACS,KAAH,CAASC,WAAT,EAFZ;AAIA,MAAIC,MAAM,GAAGX,EAAE,CAACY,MAAH,CAAUC,IAAV,GACRC,IADQ,CACH,IADG,EAERC,IAFQ,CAEH,CAACT,QAAD,EAAWA,QAAX,CAFG,EAGRU,OAHQ,CAGA,GAHA,CAAb;AAKA,MAAIC,GAAG,GAAGjB,EAAE,CAACkB,MAAH,CAAUf,IAAV,EAAgBgB,MAAhB,CAAuB,KAAvB,EACLC,IADK,CACA,OADA,EACSd,QADT,EAELc,IAFK,CAEA,QAFA,EAEUd,QAFV,EAGLc,IAHK,CAGA,OAHA,EAGS,QAHT,CAAV;AAKApB,EAAAA,EAAE,CAACqB,IAAH,CAAQ,YAAR,EAAsB,UAASC,KAAT,EAAgBC,IAAhB,EAAsB;AAC1C,QAAID,KAAJ,EAAW,MAAMA,KAAN;AAEb,QAAIE,OAAO,GAAGP,GAAG,CAACQ,SAAJ,CAAc,OAAd,EACTvB,IADS,CACJS,MAAM,CAACe,KAAP,CAAaC,OAAO,CAACJ,IAAD,CAApB,EACLK,MADK,CACE,UAASC,CAAT,EAAY;AAAE,aAAO,CAACA,CAAC,CAACC,QAAV;AAAqB,KADrC,CADI,EAGTC,KAHS,GAGDZ,MAHC,CAGM,GAHN,EAITC,IAJS,CAIJ,OAJI,EAIK,MAJL,EAKTA,IALS,CAKJ,WALI,EAKS,UAASS,CAAT,EAAY;AAAE,aAAO,eAAeA,CAAC,CAACG,CAAjB,GAAqB,GAArB,GAA2BH,CAAC,CAACI,CAA7B,GAAiC,GAAxC;AAA8C,KALrE,CAAd;AAOH,GAVG;AAWH,CA7BD;;AA+BA,SAASN,OAAT,CAAiBJ,IAAjB,EAAuB;AACnB,MAAII,OAAO,GAAG,EAAd;;AAEA,WAASO,OAAT,CAAiBC,IAAjB,EAAuBhC,IAAvB,EAA6B;AAC3B,QAAIA,IAAI,CAAC2B,QAAT,EAAmB3B,IAAI,CAAC2B,QAAL,CAAcM,OAAd,CAAsB,UAASC,KAAT,EAAgB;AAAEH,MAAAA,OAAO,CAAC/B,IAAI,CAACgC,IAAN,EAAYE,KAAZ,CAAP;AAA4B,KAApE,EAAnB,KACKV,OAAO,CAACW,IAAR,CAAa;AAACC,MAAAA,WAAW,EAAEJ,IAAd;AAAoBK,MAAAA,SAAS,EAAErC,IAAI,CAACgC,IAApC;AAA0CM,MAAAA,KAAK,EAAEtC,IAAI,CAACY;AAAtD,KAAb;AACN;;AAEDmB,EAAAA,OAAO,CAAC,IAAD,EAAOX,IAAP,CAAP;AACA,SAAO;AAACO,IAAAA,QAAQ,EAAEH;AAAX,GAAP;AACD;;AAEH,eAAe1B,eAAf","sourcesContent":["import * as d3 from 'd3';\r\n\r\nconst createLineChart = data => {\r\n\r\n    var node = document.createElement('div');\r\n\r\n    var diameter = 960,\r\n        format = d3.format(\",d\"),\r\n        color = d3.scale.category20c();\r\n    \r\n    var bubble = d3.layout.pack()\r\n        .sort(null)\r\n        .size([diameter, diameter])\r\n        .padding(1.5);\r\n        \r\n    var svg = d3.select(node).append(\"svg\")\r\n        .attr(\"width\", diameter)\r\n        .attr(\"height\", diameter)\r\n        .attr(\"class\", \"bubble\");\r\n    \r\n    d3.json(\"flare.json\", function(error, root) {\r\n      if (error) throw error;\r\n    \r\n    var bubbles = svg.selectAll(\".node\")\r\n        .data(bubble.nodes(classes(root))\r\n        .filter(function(d) { return !d.children; }))\r\n        .enter().append(\"g\")\r\n        .attr(\"class\", \"node\")\r\n        .attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; });\r\n    \r\n})\r\n}\r\n\r\nfunction classes(root) {\r\n    var classes = [];\r\n  \r\n    function recurse(name, node) {\r\n      if (node.children) node.children.forEach(function(child) { recurse(node.name, child); });\r\n      else classes.push({packageName: name, className: node.name, value: node.size});\r\n    }\r\n  \r\n    recurse(null, root);\r\n    return {children: classes};\r\n  }\r\n\r\nexport default createLineChart;"]},"metadata":{},"sourceType":"module"}